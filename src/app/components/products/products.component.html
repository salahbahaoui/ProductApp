<div class="p-3">
  <div class="card">
    <div class="card-body">
      <div class="card-body">
        <div>
          <input class="p-1" type="text" [(ngModel)]="appState.productState.keyword">
          <button (click)="searchProducts()" class="btn btn-outline-success ms-2">
            <i class="bi bi-search"></i>
          </button>
        </div>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th>Product Name</th>
            <th>Price</th>
            <th>Checked</th>
            <th>Update/Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of appState.productState.products">
            <td>{{ product.name }}</td>
            <td>{{ product.price }}</td>
            <td>
              <button (click)="handleCheckProduct(product)" class="btn ">
                <i [class]="product.checked? 'bi bi-bookmark-check-fill text-success':'bi bi-bookmark-dash text-danger'"></i>
              </button>
            </td>
            <td >
              <button [disabled]="!appState.authState.roles.includes('ADMIN')" (click)="editProduct(product)" class="btn">
                <i class="bi bi-pencil-square text-success"></i>
              </button>
              <button [disabled]="!appState.authState.roles.includes('ADMIN')" (click)="deleteProduct(product)" class="btn">
                <i class="bi bi-trash3-fill text-danger"></i>
              </button>
            </td>
          </tr>
        <ul class="nav nav-pills">
          <li *ngFor="let page of [].constructor(this.appState.productState.totalPages); let i = index">
            <button (click)="handleGoToPage(i+1)"
                    [class.btn-success]="this.appState.productState.currentPage==(i+1)"
                    class="btn m-1">
              {{ i+1 }}
            </button>
          </li>
        </ul>
        </tbody>
      </table>
    </div>
  </div>
</div>
